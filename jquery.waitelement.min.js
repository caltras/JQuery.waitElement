$.fn.waitElement=function(fn,fnFail,time){var self=this;var interval=null;var cont=0;var maxTime=eval(time)||30;self.exists=function(){if($(self.selector).length>0||$(self.selector).is(":visible")){return true}else{return false}};self.interval=setInterval(function(){cont++;if(self.exists()){clearInterval(self.interval);if(fn){fn()}else{$(self.selector).trigger("ELEMENT_READY")}}if(cont>self.maxTime){clearInterval(self.interval);if(fnFail){fnFail()}else{throw"Time out"}}},1000)}